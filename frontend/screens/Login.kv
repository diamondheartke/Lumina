#:import images_path assets.images.icons

<LoginScreen>:
    name: "login"

    # 1. Cosmic background
    Image:
        source: app.login_wallpaper
        allow_stretch: True
        keep_ratio: False
        size_hint: 1, 1
        pos_hint: {"x": 0, "y": 0}

    # 2. Dark overlay
    MDBoxLayout:
        md_bg_color: 0, 0, 0, 0.5
        size_hint: 1, 1

    # 3. The glassmorphic card
    MDFloatLayout:

        MDCard:
            size_hint: None, None
            size: "340dp", "580dp"
            pos_hint: {"center_x": .5, "center_y": .5}
            padding: "40dp", "60dp", "40dp", "40dp"   # top padding for logo
            radius: [32]
            md_bg_color: 1, 1, 1, 0.09

            # Glass border + subtle shadow
            canvas.before:
                Color:
                    rgba: 1, 1, 1, 0.18
                Line:
                    rounded_rectangle: self.x+2, self.y+2, self.width-4, self.height-4, 32
                    width: 1.2
                Color:
                    rgba: 0, 0, 0, 0.25
                RoundedRectangle:
                    pos: self.x + dp(8), self.y + dp(8)
                    size: self.width - dp(16), self.height - dp(16)
                    radius: [28]

            # Content inside the card
            MDBoxLayout:
                orientation: "vertical"
                spacing: "28dp"
                adaptive_height: True
                pos_hint: {"center_x": .5}

                # Logo
                FitImage:
                    source: app.app_logo
                    size_hint_y: None
                    height: "130dp"
                    allow_stretch: True

                # Title
                MDLabel:
                    text: "Lumina"
                    font_style: "H1"
                    bold: True
                    halign: "center"
                    theme_text_color: "Custom"
                    text_color: 1, 1, 1, 1
                    font_size: "52sp"

                # Email field â€“ sleek & glowing
                MDTextField:
                    id: email_field
                    hint_text: "Email"
                    icon_left: "email-outline"
                    mode: "round"
                    size_hint_x: .9
                    pos_hint: {"center_x": .5}
                    normal_color: 1, 1, 1, 0.1
                    color_active: 0.6, 0.4, 1, 1
                    line_color_focus: 0.8, 0.6, 1, 1
                    font_size: "16sp"
                
                # Password field + eye toggle
                MDTextField:
                    id: password_field
                    hint_text: "Password"
                    icon_left: "lock"
                    icon_left_color_normal: 0.8, 0.6, 1, 1  # blue glow
                    icon_right: "eye-off-outline"
                    icon_right_color_normal: 1, 1, 1, 0.7
                    password: True
                    mode: "round"
                    size_hint_x: .9
                    pos_hint: {"center_x": .5}
                    normal_color: 1, 1, 1, 0.1
                    color_active: 0.6, 0.4, 1, 1
                    line_color_focus: 0.8, 0.6, 1, 1
                    font_size: "16sp"

                    # Eye toggle logic
                    on_icon_right:
                        self.parent.parent.parent.parent.toggle_password()  # calls the Python method
                # Space before button
                Widget:
                    size_hint_y: None
                    height: "20dp"

                # Gradient Login button
                MDRectangleFlatButton:
                    text: "Login"
                    font_size: "18sp"
                    bold: True
                    size_hint_x: .9
                    pos_hint: {"center_x": .5}
                    height: "56dp"
                    radius: [28]
                    theme_text_color: "Custom"
                    text_color: 1, 1, 1, 1
                    line_color: 0, 0, 0, 0

                    canvas.before:
                        Color:
                            rgba: 0.35, 0.7, 1, 1          # bright blue
                        RoundedRectangle:
                            pos: self.x, self.y
                            size: self.width, self.height
                            radius: [28]

                # Credits at the very bottom
                MDLabel:
                    text: "Created By\n Diamond Ebenyo \n AVA Tech \n "
                    halign: "center"
                    theme_text_color: "Custom"
                    text_color: 1, 1, 1, 0.5
                    font_style: "Caption"
                    font_size: "11sp"
                    size_hint_y: None
                    height: self.texture_size[1] + dp(20)
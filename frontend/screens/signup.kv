#:import images_path assets.images.icons

<SignupScreen>:
    name: "signup"

    # Cosmic background
    Image:
        source: app.login_wallpaper
        allow_stretch: True
        keep_ratio: False
        size_hint: 1, 1
        pos_hint: {"x": 0, "y": 0}

    # Dark overlay
    MDBoxLayout:
        md_bg_color: 0, 0, 0, 0.5
        size_hint: 1, 1

    # Glassmorphic card
    MDFloatLayout:

        MDCard:
            size_hint: None, None
            size: "340dp", "580dp"
            pos_hint: {"center_x": .5, "center_y": .5}
            padding: "40dp", "60dp", "40dp", "40dp"   # top padding for logo
            radius: [32]
            md_bg_color: 1, 1, 1, 0.09

            # Glass border + shadow
            canvas.before:
                Color:
                    rgba: 1, 1, 1, 0.18
                Line:
                    rounded_rectangle: self.x+2, self.y+2, self.width-4, self.height-4, 32
                    width: 1.2
                Color:
                    rgba: 0, 0, 0, 0.25
                RoundedRectangle:
                    pos: self.x + dp(8), self.y + dp(8)
                    size: self.width - dp(16), self.height - dp(16)
                    radius: [28]

            # Content inside the card
            MDBoxLayout:
                orientation: "vertical"
                spacing: "28dp"
                adaptive_height: True
                pos_hint: {"center_x": .5}

                # Logo
                FitImage:
                    source: app.app_logo
                    size_hint_y: None
                    height: "130dp"
                    allow_stretch: True

                # Title
                MDLabel:
                    text: "Lumina"
                    font_style: "H1"
                    bold: True
                    halign: "center"
                    theme_text_color: "Custom"
                    text_color: 1, 1, 1, 1
                    font_size: "52sp"

                # Email field
                MDTextField:
                    id: email_field
                    hint_text: "Email"
                    icon_left: "email-outline"
                    required: True
                    mode: "round"
                    size_hint_x: .9
                    pos_hint: {"center_x": .5}
                    font_size: "16sp"
                
                # Password field 
                MDTextField:
                    id: password_field
                    hint_text: "Password"
                    icon_left: "lock-outline"
                    icon_left_color_normal: 0.8, 0.6, 1, 1  
                    password: True
                    mode: "round"
                    size_hint_x: .9
                    pos_hint: {"center_x": .5}
                    font_size: "16sp"

                MDTextField:
                    id: confirm_password
                    hint_text: "Confirm Password"
                    icon_left: "lock-check"
                    password: True
                    mode: "round"
                    size_hint_x: .9
                    pos_hint: {"center_x": .5}

                # Space before button
                Widget:
                    size_hint_y: None
                    height: "20dp"
    
                MDFillRoundFlatButton:
                    text: "SIGN UP"
                    pos_hint: {"center_x": .5}
                    size_hint_x: .7
                    on_release: root.try_signup()

                MDTextButton:
                    text: "Already have an account? Log in"
                    pos_hint: {"center_x": .5}
                    on_release: root.switch_to_login()
                